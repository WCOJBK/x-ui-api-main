# ğŸ¯ 3X-UI Enhanced API - é¡¹ç›®çŠ¶æ€æŠ¥å‘Š

## ğŸ“Š **é¡¹ç›®åˆ†æå®ŒæˆæŠ¥å‘Š**

### âœ… **æ ¸å¿ƒå‘ç°**
ç»è¿‡æ·±å…¥åˆ†æåŸæœ¬çš„3X-UIé¡¹ç›®ç»“æ„ï¼Œæˆ‘ä»¬å‘ç°ï¼š

1. **Enhanced APIå·²å®Œæ•´é›†æˆ** âœ…
   - å‡ºç«™ç®¡ç†æ§åˆ¶å™¨ (`web/controller/outbound.go`)
   - è·¯ç”±ç®¡ç†æ§åˆ¶å™¨ (`web/controller/routing.go`)
   - è®¢é˜…ç®¡ç†æ§åˆ¶å™¨ (`web/controller/subscription.go`)
   - APIç»Ÿä¸€å…¥å£ (`web/controller/api.go`)

2. **å‰ç«¯ç•Œé¢å·²å®Œæ•´åŒ…å«EnhancedåŠŸèƒ½** âœ…
   - å‡ºç«™ç®¡ç†å‰ç«¯æ¨¡å‹ (`web/assets/js/model/outbound.js`)
   - Xrayé…ç½®é¡µé¢åŒ…å«å‡ºç«™å’Œè·¯ç”±ç®¡ç† (`web/html/xui/xray.html`)
   - å®Œæ•´çš„å‰ç«¯èµ„æºå’Œä¾èµ–

3. **é¡¹ç›®åŸºäºåŸæœ¬3X-UIæ¶æ„æ­£ç¡®æ„å»º** âœ…
   - ä¿æŒåŸæœ¬çš„embed.FSé™æ€èµ„æºç³»ç»Ÿ
   - ä¿æŒåŸæœ¬çš„Ginè·¯ç”±ç»“æ„
   - ä¿æŒåŸæœ¬çš„æ¨¡æ¿ç³»ç»Ÿå’Œå›½é™…åŒ–æ”¯æŒ

---

## ğŸ”§ **å·²å®Œæˆçš„ä¿®å¤å·¥ä½œ**

### 1. **ä¿®å¤APIè·¯ç”±å†²çª** âœ…
**é—®é¢˜**: APIè·¯ç”±å®šä¹‰é‡å¤å’Œè·¯å¾„ä¸ä¸€è‡´
**è§£å†³**:
```go
// ä¿®å¤å‰: è·¯ç”±é‡å¤å®šä¹‰å¯¼è‡´è·¯å¾„æ··ä¹±
// /panel/api/outbounds/outbound/list (é”™è¯¯)

// ä¿®å¤å: æ¸…æ™°çš„è·¯å¾„ç»“æ„
// /panel/api/outbound/list âœ…
// /panel/api/routing/get âœ…
// /panel/api/subscription/settings/get âœ…
```

### 2. **æ¸…ç†é¡¹ç›®è„šæœ¬** âœ…
**ä¿®å¤å‰**: 75ä¸ªæ··ä¹±çš„è„šæœ¬æ–‡ä»¶
**ä¿®å¤å**: 6ä¸ªæ ¸å¿ƒè„šæœ¬
```
ä¿ç•™çš„æ ¸å¿ƒè„šæœ¬:
â”œâ”€â”€ install.sh              # åŸæœ¬å®‰è£…è„šæœ¬
â”œâ”€â”€ ultimate_install.sh     # Enhancedç‰ˆæœ¬å®‰è£…
â”œâ”€â”€ x-ui.sh                 # ç®¡ç†è„šæœ¬
â”œâ”€â”€ build_release.sh        # æ„å»ºè„šæœ¬
â”œâ”€â”€ DockerInit.sh           # Dockeråˆå§‹åŒ–
â””â”€â”€ DockerEntrypoint.sh     # Dockerå…¥å£
```

### 3. **åˆ›å»ºæ­£ç¡®çš„APIæµ‹è¯•è„šæœ¬** âœ…
- åŸºäºä¿®å¤åçš„å®é™…è·¯ç”±è·¯å¾„
- åŒ…å«å®Œæ•´çš„åŠŸèƒ½æµ‹è¯•
- æ”¯æŒè‡ªå®šä¹‰æœåŠ¡å™¨é…ç½®

### 4. **éªŒè¯å‰ç«¯å®Œæ•´æ€§** âœ…
ç¡®è®¤åŸæœ¬3X-UIå‰ç«¯å·²åŒ…å«:
- âœ… å‡ºç«™ç®¡ç†ç•Œé¢ (åœ¨Xrayé…ç½®é¡µé¢)
- âœ… è·¯ç”±ç®¡ç†ç•Œé¢ (åœ¨Xrayé…ç½®é¡µé¢)  
- âœ… å®Œæ•´çš„JavaScriptæ¨¡å‹æ”¯æŒ
- âœ… æ‰€æœ‰å¿…è¦çš„é™æ€èµ„æº

---

## ğŸ¯ **Enhanced APIåŠŸèƒ½æ˜ å°„**

### ğŸ“‹ **å®Œæ•´çš„APIç«¯ç‚¹**
```
åŸºç¡€è·¯å¾„: /panel/api

ğŸ” è®¤è¯ç®¡ç†:
â”œâ”€â”€ POST /login                    # ç”¨æˆ·ç™»å½•

ğŸ“¥ å…¥ç«™ç®¡ç† (åŸæœ¬åŠŸèƒ½):
â”œâ”€â”€ GET  /inbounds/list           # è·å–å…¥ç«™åˆ—è¡¨
â”œâ”€â”€ POST /inbounds/add            # æ·»åŠ å…¥ç«™
â”œâ”€â”€ POST /inbounds/update/:id     # æ›´æ–°å…¥ç«™
â”œâ”€â”€ POST /inbounds/del/:id        # åˆ é™¤å…¥ç«™

ğŸ†• å‡ºç«™ç®¡ç† (EnhancedåŠŸèƒ½):
â”œâ”€â”€ POST /outbound/list           # è·å–å‡ºç«™åˆ—è¡¨  
â”œâ”€â”€ POST /outbound/add            # æ·»åŠ å‡ºç«™
â”œâ”€â”€ POST /outbound/update/:tag    # æ›´æ–°å‡ºç«™
â”œâ”€â”€ POST /outbound/del/:tag       # åˆ é™¤å‡ºç«™
â”œâ”€â”€ POST /outbound/resetTraffic/:tag  # é‡ç½®å‡ºç«™æµé‡
â””â”€â”€ POST /outbound/resetAllTraffics   # é‡ç½®æ‰€æœ‰å‡ºç«™æµé‡

ğŸ†• è·¯ç”±ç®¡ç† (EnhancedåŠŸèƒ½):
â”œâ”€â”€ POST /routing/get             # è·å–è·¯ç”±é…ç½®
â”œâ”€â”€ POST /routing/update          # æ›´æ–°è·¯ç”±é…ç½®
â”œâ”€â”€ POST /routing/rule/add        # æ·»åŠ è·¯ç”±è§„åˆ™
â”œâ”€â”€ POST /routing/rule/del        # åˆ é™¤è·¯ç”±è§„åˆ™
â””â”€â”€ POST /routing/rule/update     # æ›´æ–°è·¯ç”±è§„åˆ™

ğŸ†• è®¢é˜…ç®¡ç† (EnhancedåŠŸèƒ½):
â”œâ”€â”€ POST /subscription/settings/get    # è·å–è®¢é˜…è®¾ç½®
â”œâ”€â”€ POST /subscription/settings/update # æ›´æ–°è®¢é˜…è®¾ç½®
â”œâ”€â”€ POST /subscription/enable          # å¯ç”¨è®¢é˜…
â”œâ”€â”€ POST /subscription/disable         # ç¦ç”¨è®¢é˜…
â””â”€â”€ GET  /subscription/urls/:id        # è·å–è®¢é˜…é“¾æ¥
```

---

## ğŸ“š **ä½¿ç”¨æŒ‡å—**

### ğŸš€ **å®‰è£…å’Œå¯åŠ¨**
```bash
# å®‰è£…Enhancedç‰ˆæœ¬
bash <(curl -Ls https://raw.githubusercontent.com/WCOJBK/x-ui-api-main/main/ultimate_install.sh)

# æˆ–è€…ä½¿ç”¨åŸæœ¬å®‰è£…è„šæœ¬åæ‰‹åŠ¨ç¼–è¯‘EnhancedåŠŸèƒ½
bash <(curl -Ls https://raw.githubusercontent.com/WCOJBK/x-ui-api-main/main/install.sh)
```

### ğŸŒ **è®¿é—®ç•Œé¢**
```
åŸæœ¬3X-UIç®¡ç†ç•Œé¢:
http://your-server:2053/

EnhancedåŠŸèƒ½ä½ç½®:
- å‡ºç«™ç®¡ç†: é¢æ¿ -> Xrayé…ç½® -> Outboundsæ ‡ç­¾
- è·¯ç”±ç®¡ç†: é¢æ¿ -> Xrayé…ç½® -> Routingsæ ‡ç­¾
- è®¢é˜…ç®¡ç†: é¢æ¿ -> Xrayé…ç½® -> è®¢é˜…è®¾ç½®
```

### ğŸ§ª **APIåŠŸèƒ½æµ‹è¯•**
```bash
# è¿è¡ŒAPIéªŒè¯æµ‹è¯•
bash api_verification_test.sh

# ä¿®æ”¹æµ‹è¯•è„šæœ¬ä¸­çš„æœåŠ¡å™¨é…ç½®
vim api_verification_test.sh
# æ›´æ”¹ SERVER_IP, PORT, USERNAME, PASSWORD
```

---

## âš¡ **Enhanced APIä¼˜åŠ¿**

### ğŸ†š **ç›¸æ¯”åŸç‰ˆ3X-UIçš„å¢å¼ºåŠŸèƒ½**

| åŠŸèƒ½åˆ†ç±» | åŸç‰ˆ3X-UI | Enhanced APIç‰ˆæœ¬ |
|----------|-----------|------------------|
| **å…¥ç«™ç®¡ç†** | âœ… å®Œæ•´æ”¯æŒ | âœ… å®Œæ•´æ”¯æŒ |
| **å‡ºç«™ç®¡ç†** | âŒ æ— APIæ”¯æŒ | âœ… **å®Œæ•´APIæ”¯æŒ** |
| **è·¯ç”±ç®¡ç†** | âŒ æ— APIæ”¯æŒ | âœ… **å®Œæ•´APIæ”¯æŒ** |
| **è®¢é˜…ç®¡ç†** | âŒ æ— APIæ”¯æŒ | âœ… **å®Œæ•´APIæ”¯æŒ** |
| **å‰ç«¯ç•Œé¢** | âœ… åŸç”Ÿç•Œé¢ | âœ… **åŸç”Ÿç•Œé¢+EnhancedåŠŸèƒ½** |
| **APIç«¯ç‚¹æ•°** | ~10ä¸ª | **~20ä¸ª** |

### ğŸ¯ **å®é™…åº”ç”¨åœºæ™¯**
1. **è‡ªåŠ¨åŒ–éƒ¨ç½²**: é€šè¿‡APIè‡ªåŠ¨é…ç½®å‡ºç«™å’Œè·¯ç”±
2. **æ‰¹é‡ç®¡ç†**: ç¨‹åºåŒ–ç®¡ç†å¤šä¸ªä»£ç†èŠ‚ç‚¹
3. **åŠ¨æ€è·¯ç”±**: æ ¹æ®ç½‘ç»œçŠ¶å†µåŠ¨æ€è°ƒæ•´è·¯ç”±ç­–ç•¥
4. **è®¢é˜…æœåŠ¡**: ä¸ºç”¨æˆ·æä¾›è‡ªåŠ¨æ›´æ–°çš„è®¢é˜…é“¾æ¥
5. **ç›‘æ§é›†æˆ**: é›†æˆåˆ°ç°æœ‰çš„ç›‘æ§å’Œç®¡ç†ç³»ç»Ÿ

---

## âœ… **é¡¹ç›®çŠ¶æ€æ€»ç»“**

### ğŸ‰ **éªŒè¯ç»“æœ**
- âœ… **APIè·¯ç”±æ­£ç¡®**: æ‰€æœ‰Enhanced APIç«¯ç‚¹è·¯å¾„ä¿®å¤å®Œæˆ
- âœ… **å‰ç«¯é›†æˆå®Œæ•´**: åŸæœ¬3X-UIç•Œé¢åŒ…å«æ‰€æœ‰EnhancedåŠŸèƒ½
- âœ… **é¡¹ç›®ç»“æ„æ¸…æ´**: ä»75ä¸ªè„šæœ¬ç²¾ç®€åˆ°6ä¸ªæ ¸å¿ƒè„šæœ¬
- âœ… **åŠŸèƒ½å®Œæ•´å¯ç”¨**: Enhanced APIåœ¨åŸæœ¬3X-UIåŸºç¡€ä¸Šæ­£ç¡®å·¥ä½œ

### ğŸš€ **ç”¨æˆ·å¯ç«‹å³ä½¿ç”¨çš„åŠŸèƒ½**
1. **åŸç”Ÿ3X-UIä½“éªŒ**: ä¿æŒç†Ÿæ‚‰çš„ç•Œé¢å’Œæ“ä½œæµç¨‹
2. **Enhanced APIåŠŸèƒ½**: é€šè¿‡ç•Œé¢æˆ–APIè®¿é—®å‡ºç«™ã€è·¯ç”±ã€è®¢é˜…ç®¡ç†
3. **å®Œæ•´çš„Xrayé…ç½®**: åœ¨ä¸€ä¸ªç•Œé¢ä¸­ç®¡ç†æ‰€æœ‰Xrayé…ç½®
4. **APIè‡ªåŠ¨åŒ–**: ä½¿ç”¨20+APIç«¯ç‚¹è¿›è¡Œç¨‹åºåŒ–ç®¡ç†

---

## ğŸ”— **å¿«é€Ÿå¼€å§‹**

### ç«‹å³æµ‹è¯•EnhancedåŠŸèƒ½:
```bash
# 1. è¿è¡ŒAPIæµ‹è¯•
bash api_verification_test.sh

# 2. è®¿é—®ç®¡ç†ç•Œé¢
http://your-server:2053/

# 3. åœ¨Xrayé…ç½®é¡µé¢ä½“éªŒEnhancedåŠŸèƒ½
# - ç‚¹å‡» "Outbounds" æ ‡ç­¾ç®¡ç†å‡ºç«™
# - ç‚¹å‡» "Routings" æ ‡ç­¾ç®¡ç†è·¯ç”±
# - é…ç½®è®¢é˜…è®¾ç½®
```

---

**ğŸŠ æ­å–œï¼æ‚¨ç°åœ¨æ‹¥æœ‰äº†åŠŸèƒ½å®Œæ•´çš„3X-UI Enhanced APIç³»ç»Ÿï¼**

---

*æœ€åæ›´æ–°: $(date)*  
*é¡¹ç›®åœ°å€: https://github.com/WCOJBK/x-ui-api-main*
